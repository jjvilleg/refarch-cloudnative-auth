# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
replicaCount: 1

image:
  #repository: registry.csplab.cloudns.cx/microprofile/auth-mp
  repository: ibmcase/auth-mp
  #repository: auth-mp
  tag: v3.0.0
  pullPolicy: Always
  resources:
    requests:
      cpu: 200m
      memory: 300Mi

service:
  name: auth
  type: NodePort
  servicePort: 9080
  servicePortHttps: 9443

services:
base:
  enabled: false
  replicaCount: 1
  image:
    tag : v0.9.9
  weight: 100

global:
  istio:
    enabled: true
    gateway: 
      name: auth-gateway

istio:
  enabled: false
  # ISTIO_MUTUAL, SIMPLE, DISABLE
  mTLS: ISTIO_MUTUAL
  # LEAST_CONN, ROUND_ROBIN
  loadBalancer: LEAST_CONN
  gateway:
    enabled: false
    name: auth-gateway
    hosts:
      - "auth.bluecompute.com"
    TLS:
      enabled: false
      # SIMPLE, MUTUAL
      mode: SIMPLE
      httpsRedirect: false
      serverCertificate: /etc/istio/ingressgateway-certs/tls.crt
      privateKey: /etc/istio/ingressgateway-certs/tls.key
caCertificates: /etc/istio/ingressgateway-ca-certs/ca-chain.cert.pem